/*!
 Javascript framework for building user interfaces
 Copyright (c) 2018 A.D.
 License: Apache-2.0
*/
var ad=ad||{};ad.cm=function(t){function e(o){if(n[o])return n[o].exports;var r=n[o]={i:o,l:!1,exports:{}};return t[o].call(r.exports,r,r.exports,e),r.l=!0,r.exports}var n={};return e.m=t,e.c=n,e.d=function(t,n,o){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:o})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="/assets/",e(e.s=5)}([,,function(t,e,n){"use strict";var o={controls_:{},dataSources_:{},modules_:{},containers_:{},gpad_:"ad",gid_:1,locateObj_:function(t,e){if(""===e)return obj;e=e.split(".");for(var n,o=/(.+)\[(\d+)\]/,r=0;r<e.length;r++)n=o.exec(e[r]),t=n?t[n[1]][parseInt(n[2])]:t[e[r]];return t},getNodeText_:function(t){for(var e="",n=0,o=t.childNodes;t=o[n];n++)t.nodeType===Node.TEXT_NODE&&""!==t.textContent.trim()&&(e+=t.textContent);return e.trim()},convertDomToJson:function(t){var e={},n=0,r=void 0,i=void 0,a=[],u=t.attributes,c=t.tagName.toLowerCase(),s=!1;for(e.c=c;r=u[n];n++)c=r.value,r.value.indexOf("display: none;")>=0&&(c=c.replace("display: none;","")),c=c.trim(),(c.length||r.name.startsWith("ad-"))&&(e[r.name]=c,"ad-id"===r.name&&(s=!0));if(s||(e["ad-id"]=this.guid()),c=o.getNodeText_(t),c.length&&(e.ad_inner_text=c),t.children.length){for(n=0,i=t.children;r=i[n];n++)a.push(o.convertDomToJson(r));e.cs=a}return e},guid:function(){return o.gpad_+o.gid_++},build:function(t,e,n){var r=void 0,i=void 0,a=void 0,u=void 0,c=void 0;t["ad-id"]?(r=t["ad-id"],a=t.c):r=t;var s=document.querySelector("[ad-id="+r+"]");o.hideContainer_(s),a||(a=s.tagName.toLowerCase()),(u=this.purge_(r))&&(i=u.p,c=u.i);var l=this.getControl(a);l=new l(t,e,n,i,c),u&&(i.addControl(l,c),a=o.locateObj_(l.getRootContainer().getJson(),i.path),a.cs.splice(c,1,l.getJson())),l.hide(),i=s.parentElement,u=l.getDom(),i.replaceChild(u,s),l.show()},registerControl:function(t,e){this.controls_[t]=e},registerDataSource:function(t,e){this.dataSources_[t]=e},registerModule:function(t,e){this.modules_[t]=e},getDataSource:function(t){return this.dataSources_[t]},getModule:function(t){return this.modules_[t]},getContainerPath_:function(t,e){var n=t.path;return""!==n&&(n+="."),n+="cs["+e+"]"},addContainer:function(t,e,n,r){var i="";n&&(i=o.getContainerPath_(n,r)),e.path=i,this.containers_[t]=e},getContainer:function(t){return o.containers_[t]},getControl:function(t){var e=this.controls_[t];return e||(e=this.controls_["general-control"]),e},getParentAndIndex_:function(t){var e=t.substr(0,t.length-3),n=t.substr(t.length-2,1);return{p:e,i:parseInt(n)}},purge_:function(t){var e=this.containers_[t],n=void 0,r=void 0,i=0;if(e){var a=e.getParent();n=e.path,delete this.containers_[t];for(r in this.containers_)this.containers_.hasOwnProperty(r)&&this.containers_[r].path.startsWith(n)&&delete this.containers_[r];if(!a)return r=e.getJson(),void(r={});for(n=this.getParentAndIndex_(n),e=o.locateObj_(a.getRootContainer().getJson(),n.p),e.splice(n.i,1),n=a.getControls(),i=0;i<n.length;i++)if(e=n[i],e.getId()===t){n.splice(i,1);break}return{p:a,i:i}}},hideContainer_:function(t){t.style.display="none"}};e.a=o},function(t,e,n){"use strict";function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),i=function(){function t(e,n,r,i,a){o(this,t);var u=this,c=void 0,s=void 0,l=void 0;e["ad-id"]?(l=e,c=l["ad-id"]):"string"==typeof e&&(c=e),u.id_=c,l||(s=document.querySelector("[ad-id="+c+"]"),l=u.convertDomToJson(s)),u.json_=l,u.attr_={},u.setAttr_(l),u.state_=n||"form",u.model_=r,u.root_=null,u.built_=!1,u.path=null,u.parent_=i,u.init(c,l,r,n,i,a)}return r(t,[{key:"init",value:function(t,e,n,o,r,i){var a=this,u=0,c=void 0,s=void 0;if(a.renderDom(),e.cs)for(a.controls_=[],a.addContainer(t,a,r,i);s=e.cs[u];u++)c=a.getControl(s.c),c=new c(s,o,n,a,u),a.controls_.push(c),a.root_.appendChild(c.getDom())}},{key:"getJson",value:function(){return this.json_}},{key:"getDom",value:function(){return this.root_}},{key:"show",value:function(){this.root_.style.display="block"}},{key:"hide",value:function(){this.root_.style.display="none"}},{key:"exec",value:function(t,e){if(this[t])return this[t](e)}},{key:"getAttributes",value:function(){return this.attr_}},{key:"setAttr_",value:function(t){var e=void 0;for(e in t)t.hasOwnProperty(e)&&"cs"!==e&&"c"!==e&&(this.attr_[e]=t[e])}},{key:"getId",value:function(){return this.id_}},{key:"getParent",value:function(){return this.parent_}},{key:"setState",value:function(t,e){this.state_=t,this.model_=e,this.renderDom()}},{key:"getControlById",value:function(t){if(this.controls_)for(var e,n=0,o=this.controls_;e=o[n];n++)if(e.id_===t)return e}},{key:"getControls",value:function(){return this.controls_}},{key:"getRootContainer",value:function(t){var e=this.getParent();return e&&(t=e.getRootContainer(e)),t}},{key:"setData",value:function(){}},{key:"getData",value:function(){}},{key:"addControl",value:function(t,e){this.controls_.splice(e,0,t)}},{key:"guid",value:function(){}},{key:"addContainer",value:function(){}},{key:"convertDomToJson",value:function(){}},{key:"getControl",value:function(){}},{key:"renderDom",value:function(){}}]),t}();e.a=i},,function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(2),r=n(3),i=n(6),a=n(7),u=n(8);n.d(e,"ADControlManager",function(){return o.a}),n.d(e,"ADControl",function(){return r.a}),n.d(e,"ADGeneralControl",function(){return i.a}),n.d(e,"ADDataSource",function(){return a.a}),n.d(e,"ADModule",function(){return u.a})},function(t,e,n){"use strict";function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var a=n(3),u=n(2),c=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),s=function(t){function e(){return o(this,e),r(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return i(e,t),c(e,[{key:"renderDom",value:function(){var t=this.getJson(),e=document.createElement(t.c),n=0,o=void 0;for(o in this.attr_)this.attr_.hasOwnProperty(o)&&("ad_inner_text"===o?e.textContent=this.attr_[o]:e.setAttribute(o,this.attr_[o]));if(this.controls_&&this.built)for(;o=this.controls_[n];n++)o.setState(this.state_,this.model_);this.root_=e,this.built_=!0}},{key:"guid",value:function(){return u.a.guid()}},{key:"addContainer",value:function(t,e,n,o){u.a.addContainer(t,e,n,o)}},{key:"convertDomToJson",value:function(t){return u.a.convertDomToJson(t)}},{key:"getControl",value:function(t){return u.a.getControl(t)}}]),e}(a.a);e.a=s,u.a.registerControl("general-control",s)},function(t,e,n){"use strict";function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),i=function(){function t(){o(this,t)}return r(t,[{key:"getData",value:function(){}}]),t}();e.a=i},function(t,e,n){"use strict";function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),i=function(){function t(){o(this,t)}return r(t,[{key:"exec",value:function(){}}]),t}();e.a=i}]);